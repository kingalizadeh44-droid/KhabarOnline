<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø®Ø¨Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† â€” ØªØ§Ø²Ù‡â€ŒØªØ±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ø§ÛŒØ±Ø§Ù† Ùˆ Ø¬Ù‡Ø§Ù†</title>
<meta name="description" content="Ø®Ø¨Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† â€” Ù¾ÙˆØ´Ø´ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ø§Ø®Ø¨Ø§Ø± Ø³ÛŒØ§Ø³ÛŒØŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒØŒ ÙØ±Ù‡Ù†Ú¯ÛŒ Ùˆ ÙˆØ±Ø²Ø´ÛŒ. Ø®ÙˆØ§Ù†Ø¯Ù† Ø³Ø±ÛŒØ¹ØŒ ØªØ­Ù„ÛŒÙ„ Ø¯Ù‚ÛŒÙ‚.">
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
<meta name="theme-color" content="#0b5ea8">

<!-- Open Graph / Social -->
<meta property="og:type" content="website">
<meta property="og:title" content="Ø®Ø¨Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† â€” ØªØ§Ø²Ù‡â€ŒØªØ±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ø§ÛŒØ±Ø§Ù† Ùˆ Ø¬Ù‡Ø§Ù†">
<meta property="og:description" content="Ù¾ÙˆØ´Ø´ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ø§Ø®Ø¨Ø§Ø± Ø³ÛŒØ§Ø³ÛŒØŒ Ø§Ù‚ØªØµØ§Ø¯ÛŒØŒ ÙØ±Ù‡Ù†Ú¯ÛŒ Ùˆ ÙˆØ±Ø²Ø´ÛŒ.">
<meta property="og:url" content="https://kingalizadeh44-droid.github.io/KhabarOnline/">
<meta property="og:image" content="https://kingalizadeh44-droid.github.io/KhabarOnline/social-preview.png">

<!-- Structured data (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "NewsMediaOrganization",
  "name": "Ø®Ø¨Ø± Ø¢Ù†Ù„Ø§ÛŒÙ†",
  "url": "https://kingalizadeh44-droid.github.io/KhabarOnline/",
  "logo": "https://kingalizadeh44-droid.github.io/KhabarOnline/logo.png",
  "sameAs": []
}
</script>

<style>
:root{
  --bg:#f5f7fb; --card:#ffffff; --muted:#6b7280; --accent:#0b5ea8; --accent-2:#0e76c7;
  --danger:#d32f2f; --radius:10px; --shadow: 0 6px 18px rgba(15,23,42,0.08);
  --container:1200px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:'Vazirmatn',system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  background:var(--bg); color:#0f1724; line-height:1.6; -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Header */
.header{
  background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; position:sticky; top:0; z-index:60;
  box-shadow:var(--shadow);
}
.header-inner{max-width:var(--container); margin:0 auto; padding:14px 18px; display:flex; gap:16px; align-items:center; justify-content:space-between}
.brand{display:flex; gap:12px; align-items:center; text-decoration:none; color:#fff}
.brand .logo{
  width:50px; height:50px; background:#fff2; display:flex; align-items:center; justify-content:center; border-radius:8px; font-weight:800;
  font-size:18px;
}
.brand h1{font-size:18px; margin:0; font-weight:800}
.header-actions{display:flex; gap:8px; align-items:center}

/* Search */
.search {
  display:flex; align-items:center; background:rgba(255,255,255,0.08); padding:6px; border-radius:8px;
}
.search input{
  border:0; outline:0; background:transparent; color:#fff; padding:8px; min-width:180px;
}
.icon-btn{background:transparent; border:0; color:#fff; cursor:pointer; font-size:18px}

/* Top breaking banner */
.breaking{
  background:#ff4d4f; color:white; text-align:center; padding:8px 12px; font-weight:700; font-size:14px;
}

/* Layout */
.wrapper{max-width:var(--container); margin:26px auto; padding:0 16px; display:grid; grid-template-columns: 2fr 1fr; gap:22px}
@media (max-width:900px){ .wrapper{grid-template-columns:1fr} .brand h1{font-size:16px} .search input{min-width:100px} }

/* Featured */
.featured{
  background:var(--card); border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow);
}
.featured .img{
  height:320px; background:linear-gradient(180deg,#cfe8ff,#eaf5ff); display:flex; align-items:center; justify-content:center; font-size:14px; color:#333;
  position:relative;
}
.featured .img img{width:100%; height:100%; object-fit:cover; display:block}
.featured .content{padding:18px}
.title{font-size:22px; margin-bottom:8px; font-weight:800; color:#071427}
.excerpt{color:var(--muted)}

/* Grid list */
.grid{display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-top:16px}
@media(max-width:700px){ .grid{grid-template-columns:1fr} }

/* Card */
.card{background:var(--card); border-radius:12px; padding:12px; box-shadow:var(--shadow); display:flex; gap:12px; align-items:flex-start}
.card .thumb{width:120px; height:80px; border-radius:8px; background:#eef3fa; overflow:hidden; flex-shrink:0}
.card .thumb img{width:100%;height:100%;object-fit:cover;display:block}
.card .meta{font-size:13px;color:var(--muted)}

/* Sidebar */
.sidebar {display:flex; flex-direction:column; gap:14px}
.widget{background:var(--card); border-radius:12px; padding:12px; box-shadow:var(--shadow)}
.widget h3{margin:0 0 10px 0; font-size:16px; color:var(--accent)}

/* Categories list */
.cat-list{display:flex; gap:8px; flex-wrap:wrap}
.cat{background:#f1f7ff; color:var(--accent); padding:8px 12px; border-radius:20px; font-weight:600; text-decoration:none; font-size:13px}

/* Footer */
.footer{max-width:var(--container); margin:32px auto 60px; padding:20px 16px; color:var(--muted); text-align:center}

/* small helpers */
.kicker{display:inline-block; padding:6px 10px; background:#f3f7fb; border-radius:16px; font-size:13px; color:var(--accent)}
.time{color:var(--muted); font-size:13px}

/* search results highlight */
mark{background:yellow; color:#000; padding:0 2px}

/* load-more */
.load-more{display:block;margin:16px auto;padding:10px 18px;border-radius:8px;background:var(--accent);color:#fff;border:0;cursor:pointer}
</style>
</head>
<body>

<header class="header" role="banner">
  <div class="header-inner">
    <a class="brand" href="/">
      <div class="logo">Ø®</div>
      <div>
        <h1>Ø®Ø¨Ø± Ø¢Ù†Ù„Ø§ÛŒÙ†</h1>
        <div style="font-size:12px;color:rgba(255,255,255,0.85)">ØªØ§Ø²Ù‡â€ŒØªØ±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ø§ÛŒØ±Ø§Ù† Ùˆ Ø¬Ù‡Ø§Ù†</div>
      </div>
    </a>

    <div class="header-actions" role="navigation" aria-label="Ù†Ø§ÙˆØ¨Ø±ÛŒ">
      <div class="search" role="search" aria-label="Ø¬Ø³Øªâ€ŒÙˆØ¬Ùˆ Ø¯Ø± Ø§Ø®Ø¨Ø§Ø±">
        <button class="icon-btn" id="searchToggle" title="Ø¬Ø³Øªâ€ŒÙˆØ¬Ùˆ">ğŸ”</button>
        <input id="searchInput" placeholder="Ø¬Ø³Øªâ€ŒÙˆØ¬Ùˆ Ø¯Ø± Ø³Ø±Ø®Ø·â€ŒÙ‡Ø§..." aria-label="Ø¬Ø³Øªâ€ŒÙˆØ¬Ùˆ">
        <button class="icon-btn" id="clearSearch" title="Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†">âœ–</button>
      </div>
    </div>
  </div>
</header>

<div class="breaking" role="region" aria-label="Ø®Ø¨Ø± ÙÙˆØ±ÛŒ">
  âš¡ Ø®Ø¨Ø± ÙÙˆØ±ÛŒ: Ù¾ÙˆØ´Ø´ Ø²Ù†Ø¯Ù‡ Ø§Ø² ØªØ­ÙˆÙ„Ø§Øª Ù…Ù‡Ù… Ù…Ù†Ø·Ù‚Ù‡ â€” Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ
</div>

<main class="wrapper" role="main">

  <!-- main column -->
  <section>
    <article id="featured" class="featured" aria-labelledby="featured-title">
      <div class="img" id="featured-img">
        <!-- ØªØµÙˆÛŒØ± Ø¨Ø±Ø¬Ø³ØªÙ‡ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ -->
        <img src="" alt="" id="featuredImage" style="display:none">
        <div id="featuredPlaceholder">ØªØµÙˆÛŒØ± Ø®Ø¨Ø± Ø¨Ø±Ø¬Ø³ØªÙ‡</div>
      </div>
      <div class="content">
        <div class="kicker" id="featured-kicker">Ú¯Ø²Ø§Ø±Ø´</div>
        <h2 class="title" id="featured-title">Ø¹Ù†ÙˆØ§Ù† Ø®Ø¨Ø± Ø¨Ø±Ø¬Ø³ØªÙ‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯</h2>
        <p class="excerpt" id="featured-excerpt">Ø®Ù„Ø§ØµÙ‡â€ŒØ§ÛŒ Ú©ÙˆØªØ§Ù‡ Ø§Ø² Ø®Ø¨Ø± Ø¨Ø±Ø¬Ø³ØªÙ‡ ØªØ§ Ø®ÙˆØ§Ù†Ù†Ø¯Ù‡ Ø¨Ø¯Ø§Ù†Ø¯ Ú†Ù‡ Ø®Ø¨Ø± Ø§Ø³Øª. Ø¬Ø²Ø¦ÛŒØ§Øª Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡...</p>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
          <div class="time" id="featured-meta">Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ â€” Û² Ø³Ø§Ø¹Øª Ù¾ÛŒØ´</div>
          <a href="#" style="text-decoration:none;color:var(--accent);font-weight:700">Ø®ÙˆØ§Ù†Ø¯Ù† Ú©Ø§Ù…Ù„ â†’</a>
        </div>
      </div>
    </article>

    <div class="grid" id="newsGrid" aria-live="polite">
      <!-- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø¨Ø± -->
    </div>

    <button class="load-more" id="loadMore">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨ÛŒØ´ØªØ±</button>
  </section>

  <!-- sidebar -->
  <aside class="sidebar" aria-label="Ù†ÙˆØ§Ø± Ú©Ù†Ø§Ø±ÛŒ">
    <div class="widget">
      <h3>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h3>
      <div class="cat-list" id="categoryList">
        <!-- Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ -->
      </div>
    </div>

    <div class="widget" id="trendingWidget">
      <h3>Ø®Ø¨Ø±Ù‡Ø§ÛŒ Ù¾ÙØ±Ø·Ø±ÙØ¯Ø§Ø±</h3>
      <ol id="trendingList" style="padding-left:16px;margin:0"></ol>
    </div>

    <div class="widget">
      <h3>Ø¯Ù†Ø¨Ø§Ù„â€ŒÚ©Ø±Ø¯Ù†</h3>
      <div style="display:flex;gap:8px">
        <a class="cat" href="#">ØªÙ„Ú¯Ø±Ø§Ù…</a>
        <a class="cat" href="#">Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…</a>
        <a class="cat" href="#">RSS</a>
      </div>
    </div>
  </aside>

</main>

<footer class="footer" role="contentinfo">
  Â© ØªÙ…Ø§Ù… Ø­Ù‚ÙˆÙ‚ Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ Ø®Ø¨Ø± Ø¢Ù†Ù„Ø§ÛŒÙ† Ø§Ø³Øª â€” Û±Û´Û°Û´
</footer>

<script>
/*
  ÙØ§ÛŒÙ„ Ø¯ÛŒØªØ§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒâ€ŒØ´Ø¯Ù‡ (Ø¨Ø¹Ø¯Ø§Ù‹ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø§Ø² API Ø¨Ú©â€ŒØ§Ù†Ø¯ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨ÛŒØ§Ø±ÛŒ)
  Ù‡Ø± Ø®Ø¨Ø±: id, title, excerpt, content, category, author, time, image
*/
const ARTICLES = [
  {
    id:1, title:"ØªØ­Ù‚ÛŒÙ‚Ø§Øª Ø¬Ø¯ÛŒØ¯: ØªØ£Ø«ÛŒØ± ØªØºÛŒÛŒØ±Ø§Øª Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ÛŒÛŒ Ø¨Ø± Ø§Ù‚ØªØµØ§Ø¯ Ø§ÛŒØ±Ø§Ù†",
    excerpt:"Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ù‡Ø´Ø¯Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯ Ú©Ù‡ Ú¯Ø±Ù…Ø§ÛŒØ´ Ø¬Ù‡Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ØªÙˆÙ„ÛŒØ¯Ø§Øª Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ Ø±Ø§ ØªØ§ Û³Û° Ø¯Ø±ØµØ¯ Ú©Ø§Ù‡Ø´ Ø¯Ù‡Ø¯.",
    content:"Ù…ØªÙ† Ú©Ø§Ù…Ù„ Ø®Ø¨Ø± Û± ...", category:"Ø§Ù‚ØªØµØ§Ø¯ÛŒ", author:"Ø¹Ù„ÛŒ Ø§Ø­Ù…Ø¯ÛŒ", time:"1 Ø³Ø§Ø¹Øª Ù¾ÛŒØ´", image:""
  },
  {
    id:2, title:"Ù¾ÛŒØ±ÙˆØ²ÛŒ ØªÛŒÙ… Ù…Ù„ÛŒ Ø¯Ø± Ù…Ù‚Ø¯Ù…Ø§ØªÛŒ Ø¬Ø§Ù… Ø¬Ù‡Ø§Ù†ÛŒ",
    excerpt:"Ú¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¢Ø®Ø± Ø´Ø§Ø¯ÛŒ Ø¨Ù‡ Ø§Ø±Ø¯ÙˆÚ¯Ø§Ù‡ ÙÙˆØªØ¨Ø§Ù„â€ŒØ¯ÙˆØ³ØªØ§Ù† Ø¢ÙˆØ±Ø¯.",
    content:"Ù…ØªÙ† Ú©Ø§Ù…Ù„ Ø®Ø¨Ø± Û² ...", category:"ÙˆØ±Ø²Ø´ÛŒ", author:"Ø­Ø§Ù…Ø¯ Ø±Ø¶Ø§Ø¦ÛŒ", time:"Û² Ø³Ø§Ø¹Øª Ù¾ÛŒØ´", image:""
  },
  {
    id:3, title:"Ø§ÙØ²Ø§ÛŒØ´ Ù†Ø±Ø® ØªÙˆØ±Ù… Ø¨Ù‡ Û´Ûµ Ø¯Ø±ØµØ¯",
    excerpt:"Ø¨Ø§Ù†Ú© Ù…Ø±Ú©Ø²ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„Ø§Ø­ÛŒ Ø¬Ø¯ÛŒØ¯ÛŒ Ø§Ø¹Ù„Ø§Ù… Ú©Ø±Ø¯.",
    content:"Ù…ØªÙ† Ú©Ø§Ù…Ù„ Ø®Ø¨Ø± Û³ ...", category:"Ø§Ù‚ØªØµØ§Ø¯ÛŒ", author:"Ù…Ø±ÛŒÙ… Ø­Ø³ÛŒÙ†ÛŒ", time:"Û³ Ø³Ø§Ø¹Øª Ù¾ÛŒØ´", image:""
  },
  {
    id:4, title:"Ù†Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Ú©ØªØ§Ø¨ ØªÙ‡Ø±Ø§Ù† Ú¯Ø´Ø§ÛŒØ´ ÛŒØ§ÙØª",
    excerpt:"Ù†ÙˆÛŒØ³Ù†Ø¯Ú¯Ø§Ù† Ø¨Ø±Ø¬Ø³ØªÙ‡ Ø§Ø² Ø³Ø±Ø§Ø³Ø± Ø¬Ù‡Ø§Ù† Ø­Ø¶ÙˆØ± Ø¯Ø§Ø±Ù†Ø¯.",
    content:"Ù…ØªÙ† Ú©Ø§Ù…Ù„ Ø®Ø¨Ø± Û´ ...", category:"ÙØ±Ù‡Ù†Ú¯ÛŒ", author:"Ù†Ø³Ø±ÛŒÙ† Ù‚Ø¯Ø³ÛŒ", time:"Û´ Ø³Ø§Ø¹Øª Ù¾ÛŒØ´", image:""
  },
  {
    id:5, title:"Ø¨Ø­Ø±Ø§Ù† Ø§Ù†Ø±Ú˜ÛŒ Ø¯Ø± Ø§Ø±ÙˆÙ¾Ø§ ØªØ´Ø¯ÛŒØ¯ Ø´Ø¯",
    excerpt:"Ù‚ÛŒÙ…ØªÙ‡Ø§ Ø¯Ø± Ø¨Ø§Ø²Ø§Ø± Ú¯Ø§Ø² Ø·Ø¨ÛŒØ¹ÛŒ Ø±Ú©ÙˆØ±Ø¯ Ø²Ø¯.",
    content:"Ù…ØªÙ† Ú©Ø§Ù…Ù„ Ø®Ø¨Ø± Ûµ ...", category:"Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„", author:"Ø±Ø¶Ø§ Ú©Ù…Ø§Ù„ÛŒ", time:"Ûµ Ø³Ø§Ø¹Øª Ù¾ÛŒØ´", image:""
  },
  {
    id:6, title:"ØªÙˆØ³Ø¹Ù‡ ÙÙ†Ø§ÙˆØ±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù†ÙˆÛŒÙ† Ø¯Ø± Ø¨Ø®Ø´ Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ",
    excerpt:"Ø§Ø³ØªØ§Ø±ØªØ§Ù¾â€ŒÙ‡Ø§ Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ ØµØ±ÙÙ‡â€ŒØ¬ÙˆÛŒÛŒ Ø¢Ø¨ Ù…Ø¹Ø±ÙÛŒ Ú©Ø±Ø¯Ù†Ø¯.",
    content:"Ù…ØªÙ† Ú©Ø§Ù…Ù„ Ø®Ø¨Ø± Û¶ ...", category:"Ø¹Ù„Ù…ÛŒ", author:"ÙØ±Ù‡Ø§Ø¯ Ù…Ù„Ú©ÛŒ", time:"Û¶ Ø³Ø§Ø¹Øª Ù¾ÛŒØ´", image:""
  }
];

// Ø­Ø§Ù„Øª Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ
let displayed = 0;
const batch = 4;

// Ø¹Ù†Ø§ØµØ± ØµÙØ­Ù‡
const newsGrid = document.getElementById('newsGrid');
const featuredTitle = document.getElementById('featured-title');
const featuredExcerpt = document.getElementById('featured-excerpt');
const featuredMeta = document.getElementById('featured-meta');
const featuredKicker = document.getElementById('featured-kicker');
const categoryList = document.getElementById('categoryList');
const trendingList = document.getElementById('trendingList');
const loadMoreBtn = document.getElementById('loadMore');
const searchInput = document.getElementById('searchInput');
const searchToggle = document.getElementById('searchToggle');
const clearSearch = document.getElementById('clearSearch');

// initialize
function init(){
  // set featured (Ø§ÙˆÙ„ÛŒÙ† Ù…Ù‚Ø§Ù„Ù‡)
  const f = ARTICLES[0];
  featuredTitle.textContent = f.title;
  featuredExcerpt.textContent = f.excerpt;
  featuredMeta.textContent = `${f.author} â€” ${f.time}`;
  featuredKicker.textContent = f.category;

  // Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§
  const cats = [...new Set(ARTICLES.map(a => a.category))];
  cats.forEach(c=>{
    const a = document.createElement('a'); a.href="#"; a.className='cat'; a.textContent=c;
    a.addEventListener('click', (e)=>{ e.preventDefault(); filterByCategory(c); });
    categoryList.appendChild(a);
  });

  // ØªØ±Ù†Ø¯ÛŒÙ†Ú¯ (Û³ ØªØ§ÛŒ Ø§ÙˆÙ„)
  ARTICLES.slice(0,3).forEach(a=>{
    const li = document.createElement('li'); li.innerHTML = `<a href="#" data-id="${a.id}">${a.title}</a>`;
    trendingList.appendChild(li);
  });

  // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
  loadMore();
}

// render card
function makeCard(article){
  const div = document.createElement('article'); div.className='card';
  div.innerHTML = `
    <div class="thumb"><img src="${article.image || 'https://via.placeholder.com/300x200?text=Ø®Ø¨Ø±'}" alt=""></div>
    <div style="flex:1">
      <h3 style="margin:0 0 6px 0;font-size:16px">${article.title}</h3>
      <div class="meta">${article.author} â€” <span class="time">${article.time}</span></div>
      <p style="margin-top:8px;color:var(--muted)">${article.excerpt}</p>
    </div>`;
  return div;
}

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨ÛŒØ´ØªØ±
function loadMore(){
  const next = ARTICLES.slice(displayed, displayed + batch);
  next.forEach(a=> newsGrid.appendChild(makeCard(a)));
  displayed += next.length;
  if(displayed >= ARTICLES.length) loadMoreBtn.style.display = 'none';
}

// ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø³ØªÙ‡
function filterByCategory(cat){
  newsGrid.innerHTML = '';
  const filtered = ARTICLES.filter(a=> a.category === cat);
  filtered.forEach(a=> newsGrid.appendChild(makeCard(a)));
  loadMoreBtn.style.display = 'none';
  // small UX: update featured
  if(filtered.length) {
    featuredTitle.textContent = filtered[0].title;
    featuredExcerpt.textContent = filtered[0].excerpt;
    featuredMeta.textContent = `${filtered[0].author} â€” ${filtered[0].time}`;
    featuredKicker.textContent = filtered[0].category;
  }
}

// Ø¬Ø³Øªâ€ŒÙˆØ¬Ùˆ Ø³Ø±ÛŒØ¹ (client-side)
function doSearch(q){
  q = q.trim();
  newsGrid.innerHTML = '';
  loadMoreBtn.style.display = 'none';
  if(!q){
    // reset
    displayed = 0; newsGrid.innerHTML=''; loadMoreBtn.style.display='block'; loadMore();
    return;
  }
  const regex = new RegExp(q.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'gi');
  const results = ARTICLES.filter(a => (a.title + ' ' + a.excerpt + ' ' + a.content).match(regex));
  if(results.length === 0){
    newsGrid.innerHTML = '<div style="padding:18px;background:var(--card);border-radius:12px;box-shadow:var(--shadow)">Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯.</div>';
    return;
  }
  results.forEach(r=>{
    const c = makeCard(r);
    // Ù‡Ø§ÛŒÙ„Ø§ÛŒØª Ø¯Ø± Ø¹Ù†ÙˆØ§Ù† Ùˆ Ø®Ù„Ø§ØµÙ‡
    c.innerHTML = c.innerHTML.replace(regex, (m)=>`<mark>${m}</mark>`);
    newsGrid.appendChild(c);
  });
}

// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§
loadMoreBtn.addEventListener('click', loadMore);
searchInput.addEventListener('input', ()=> doSearch(searchInput.value));
searchToggle.addEventListener('click', ()=> { searchInput.focus(); });
clearSearch.addEventListener('click', ()=> { searchInput.value=''; doSearch(''); });

// init on ready
document.addEventListener('DOMContentLoaded', init);
</script>

</body>
</html>
